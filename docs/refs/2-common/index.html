<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        
        
        
        <link rel="shortcut icon" href="../../img/favicon.ico">
        <title>Common Messages - INScore Documentation</title>
        <link href="../../css/bootstrap-custom.min.css" rel="stylesheet">
        <link href="../../css/font-awesome.min.css" rel="stylesheet">
        <link href="../../css/base.css" rel="stylesheet">
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/github.min.css">
        <link href="/css/inscore.css" rel="stylesheet">
        <link href="/BNF/railroad-diagrams.css" rel="stylesheet">
        <!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
        <!--[if lt IE 9]>
            <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
            <script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
        <![endif]-->

        <script src="../../js/jquery-1.10.2.min.js" defer></script>
        <script src="../../js/bootstrap-3.0.3.min.js" defer></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/highlight.min.js"></script>
        <script>hljs.initHighlightingOnLoad();</script> 
    </head>

    <body>

        <div class="navbar navbar-default navbar-fixed-top" role="navigation">
            <div class="container">

                <!-- Collapsed navigation -->
                <div class="navbar-header">
                    <!-- Expander button -->
                    <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
                        <span class="sr-only">Toggle navigation</span>
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                    </button>
                    <a class="navbar-brand" href="../..">INScore Documentation</a>
                </div>

                <!-- Expanded navigation -->
                <div class="navbar-collapse collapse">
                        <!-- Main navigation -->
                        <ul class="nav navbar-nav">
                            <li >
                                <a href="../..">Home</a>
                            </li>
                            <li class="dropdown">
                                <a href="#" class="dropdown-toggle" data-toggle="dropdown">Tutorials <b class="caret"></b></a>
                                <ul class="dropdown-menu">
                                    
<li >
    <a href="http://berio.grame.fr/MusicNotation/Introduction-to-INScore/">Introduction</a>
</li>
                                </ul>
                            </li>
                            <li class="dropdown active">
                                <a href="#" class="dropdown-toggle" data-toggle="dropdown">Reference <b class="caret"></b></a>
                                <ul class="dropdown-menu">
                                    
<li >
    <a href="../1-genformat/">Format of a message</a>
</li>
                                    
<li class="active">
    <a href="./">Common Messages</a>
</li>
                                    
<li >
    <a href="../3-time/">Time Messages</a>
</li>
                                    
<li >
    <a href="../4-miscmsgs/">Miscellaneous</a>
</li>
                                    
<li >
    <a href="../5-setsect/">The set Message</a>
</li>
                                    
<li >
    <a href="../6-getsect/">The get Message</a>
</li>
                                    
<li >
    <a href="../7-specificMsg/">Specific Messages</a>
</li>
                                    
<li >
    <a href="../8-ITL/">Application Messages</a>
</li>
                                    
<li >
    <a href="../9-scene/">Scene Messages</a>
</li>
                                    
<li >
    <a href="../10-forwarding/">Messages Forwarding</a>
</li>
                                    
<li >
    <a href="../11-layers/">Layers</a>
</li>
                                    
<li >
    <a href="../12-mapping/">Mapping</a>
</li>
                                    
<li >
    <a href="../13-syncmsg/">Synchronization</a>
</li>
                                    
<li >
    <a href="../14-graphsig/">Graphic signals</a>
</li>
                                    
<li >
    <a href="../15-interaction/">Interaction</a>
</li>
                                    
<li >
    <a href="../16-scripting/">Scripting</a>
</li>
                                    
<li >
    <a href="../17-plugins/">Plugins</a>
</li>
                                    
<li >
    <a href="../18-yacc/">Grammar definitions</a>
</li>
                                    
<li >
    <a href="../19-changes/">Changes list</a>
</li>
                                    
<li >
    <a href="../">Index</a>
</li>
                                </ul>
                            </li>
                            <li class="dropdown">
                                <a href="#" class="dropdown-toggle" data-toggle="dropdown">Download <b class="caret"></b></a>
                                <ul class="dropdown-menu">
                                    
<li >
    <a href="../../rsrc/INScoreLang.pdf">Pdf documentation</a>
</li>
                                </ul>
                            </li>
                            <li >
                                <a href="../../about/">About</a>
                            </li>
                        </ul>

                    <ul class="nav navbar-nav navbar-right">
                        <li>
                            <a href="#" data-toggle="modal" data-target="#mkdocs_search_modal">
                                <i class="fa fa-search"></i> Search
                            </a>
                        </li>
                            <li >
                                <a rel="next" href="../1-genformat/">
                                    <i class="fa fa-arrow-left"></i> Previous
                                </a>
                            </li>
                            <li >
                                <a rel="prev" href="../3-time/">
                                    Next <i class="fa fa-arrow-right"></i>
                                </a>
                            </li>
                    </ul>
                </div>
            </div>
        </div>

        <div class="container">
                <div class="col-md-3"><div class="bs-sidebar hidden-print affix well" role="complementary">
    <ul class="nav bs-sidenav">
        <li class="main active"><a href="#common-messages">Common messages</a></li>
            <li><a href="#positioning">Positioning</a></li>
            <li><a href="#components-transformations">Components transformations</a></li>
            <li><a href="#color-messages">Color messages</a></li>
            <li><a href="#pen-control">Pen control</a></li>
            <li><a href="#the-effect-messages">The 'effect' messages</a></li>
            <li><a href="#the-edit-message">The 'edit' message</a></li>
    </ul>
</div></div>
                <div class="col-md-9" role="main">

<script src='/BNF/railroad-diagrams.js'></script>

<h1 id="common-messages">Common messages</h1>
<p><a name="common"></a></p>
<p>Common messages are intended to control the graphic and the time space of the components of a scene.
They could be sent to any address with the form <span class="OSC">/ITL/<em>scene</span></em> or <span class="OSC">/ITL/<em>scene</span>/\textit{identifier</em>} where <span class="OSC"><em>identifier</span></em> is the unique identifier of a scene component.</p>
<p><a name="2-common-show"></a>
<a name="2-common-del"></a>
<a name="2-common-lock"></a>
<a name="2-common-export"></a>
<a name="2-common-exportAll"></a>
<a name="2-common-save"></a></p>
<div class="rail">
<span class="railtitle">commonMsg</span>
<br /><script>
ComplexDiagram(
    Choice (0, Sequence ('show', NonTerminal('int32')), 'del', Sequence ('lock', NonTerminal('int32')), Sequence (Choice (0, 'export', 'exportAll'), Choice (0, OneOrMore (Sequence (Comment ('1'), NonTerminal('filePath'))), Comment ('2'))), Sequence ('save', Optional  ( OneOrMore ('message')), NonTerminal('filePath'), Optional  ( '+')), NonTerminal('PositionMsg'), NonTerminal('ColorMsg'), NonTerminal('TimeMsg'), NonTerminal('WatchMsg'), NonTerminal('EventMsg'))
).addTo()

</script>
</div>

<ul>
<li><span class="OSC">show</span>: shows or hides the destination object. The parameter is interpreted as a boolean value. Default value is <span class="values">1</span>. </li>
<li>
<p><span class="OSC">del</span>: deletes the destination object. </p>
</li>
<li>
<p><span class="OSC">lock</span>: if not null, cancel any <span class="OSC">del</span> message sent to this object. The object will still be deleted if its ancestors receive a <span class="OSC">del</span> message. The parameter is interpreted as a boolean value. Default value is <span class="values">0</span>. </p>
</li>
<li>
<p><span class="OSC">export</span> and <span class="OSC">exportAll</span>: exports an object to an image file respectively without or with its childrens. If the exported object is a scene, childrens are always exported.
1) exports to the <span class="OSC">filePath</span> name. The <span class="OSC">filePath</span> can be relative or absolute. When the filename is not specified, exports to <span class="OSC">path/<em>identifier</span>.pdf</em>. The file extension is used to infer the export format. Supported extensions and formats are: <strong>pdf, bmp, gif, jpeg, png, pgm, ppm, tiff, xbm, xpm</strong>. 
2) exports to <span class="OSC">rootPath/<em>identifier</span>.pdf</em>.
When the destination file is not completely specified (second form or missing extension), there is an automatic numbering of output names when the destination file already exists.  </p>
</li>
<li>
<p><span class="OSC">save</span>: recursively saves objects states to a file. When a <span class="OSC">message</span> list is present, only the specified attributes are saved. The <span class="OSC">filePath</span> can be relative or absolute. When relative, an absolute path is build using the current <span class="OSC">rootPath</span> (see application or scene current paths  p.\pageref{applmgmt} and  p.\pageref{scene}). The optional <span class="OSC">+</span> parameter indicates an append mode for the write operation. The message must be sent to the address <span class="OSC">/ITL</span> to save the whole application state.
<strong>Note</strong>: when a list of attributes is specified, unknown attributes are silently ignored. 
<strong>Note</strong>: the file extension for INScore files is <span class="OSC">.inscore</span>. INScore files dropped on the application or on a window are interpreted as script files (see section <a href="../16-scripting#scripting">scripting</a>).</p>
</li>
<li>
<p>'PositionMsg' are absolute and relative position messages.</p>
</li>
<li>'ColorMsg' are absolute and relative color control messages.</li>
<li>'TimeMsg' are time management messages. They are described in section <a href="../3-time#time">time</a>.</li>
<li>'WatchMsg' are described in section <a href="../15-interaction#interaction">interaction</a>.</li>
<li>'EventMsg' are described in section <a href="../15-interaction#eventMsg">eventMsg</a>.</li>
</ul>
<p><span class="example">Example</span> 
Export of a scene to a given file as jpeg at the current root path:</p>
<pre><code>/ITL/scene export 'myexport.jpg';
</code></pre>

<p>Saving a scene to <span class="OSC">myScore.inscore</span> at the current root path, the second form saves only the <span class="OSC">x</span>, <span class="OSC">y</span> and <span class="OSC">z</span> attributes, the third form uses the append mode:</p>
<pre><code>/ITL/scene save 'myScore.inscore';
/ITL/scene save x y z 'thePositions.inscore'; 
/ITL/scene save 'myScore.inscore' '+';
</code></pre>

<p>Hiding an object:</p>
<pre><code>/ITL/scene/myObject show 0;
</code></pre>

<h2 id="positioning">Positioning</h2>
<p><a name="positionning"></a></p>
<div class="rail">
<span class="railtitle">PositionMsg</span>
<br /><script>
ComplexDiagram(
    Choice (0, NonTerminal('absPosMsg'), NonTerminal('relPosMsg'), NonTerminal('originMsg'), NonTerminal('transformMsg'))
).addTo()

</script>
</div>

<p>Graphic position messages are absolute position or relative position messages. They can also control an object <strong>origin</strong> and transformations like rotation around an axis.</p>
<h3 id="absolute-positioning">Absolute positioning</h3>
<p><a name="abspos"></a></p>
<p><a name="2-common-x"></a>
<a name="2-common-y"></a>
<a name="2-common-z"></a>
<a name="2-common-angle"></a>
<a name="2-common-scale"></a>
<a name="2-common-x"></a>
<a name="2-common-y"></a>
<a name="2-common-z"></a>
<a name="2-common-angle"></a>
<a name="2-common-scale"></a></p>
<div class="rail">
<span class="railtitle">absPosMsg</span>
<br /><script>
ComplexDiagram(
    Choice (0, Sequence ('x', NonTerminal('float32')), Sequence ('y', NonTerminal('float32')), Sequence ('z', NonTerminal('float32')), Sequence ('angle', NonTerminal('float32')), Sequence ('scale', NonTerminal('float32')))
).addTo()

</script>
</div>

<ul>
<li><span class="OSC">x y</span>: moves the <span class="values">x</span> or <span class="values">y</span> coordinate of a component. By default, components are centered on their <span class="values">x</span>, <span class="values">y</span> coordinates. The coordinates space range is <span class="values">[-1,1]</span>. 
For a <span class="OSC">scene</span> component, -1 is the leftmost or topmost position, 1 is the rightmost or bottommost position. <span class="values">[0,0]</span> represents the center of the <span class="OSC">scene</span>. 
For the <span class="OSC">scene</span> itself, it moves the window in the screen space and the coordinate space is orthonormal, based on the screen lowest dimension (<strong>i.e.</strong> with a 4:3 screen, <span class="OSC">y=-1</span> and <span class="OSC">y=1</span> are respectively the exact top and bottom of the screen, but neither <span class="OSC">x=-1</span> nor <span class="OSC">x=1</span> are the exact left and right of the screen). 
Default coordinates are <span class="values">[0,0]</span>.</li>
<li><span class="OSC">z</span>: sets the <span class="values">z</span> order of a component. <span class="values">z</span> order is actually relative to the <span class="OSC">scene</span> components: objects of high <span class="values">z</span> order will be drawn on top of components with a lower <span class="values">z</span> order. Components sharing the same <span class="values">z</span> order will be drawn in an undefined order, although the order will stay the same for as long as they live. 
Default <span class="values">z</span> order is 0.</li>
<li><span class="OSC">angle</span>: sets the <span class="values">angle</span> value of a component, which is used to rotate it around its center. The angle is measured in clockwise degrees from the <span class="values">x</span> axis.
Default angle value is 0.</li>
<li><span class="OSC">scale</span>: reduce/enlarge a component. Default scale is <span class="values">1</span>.</li>
</ul>
<p><span class="example">Example</span> 
Moving and scaling an object:</p>
<pre><code>/ITL/scene/myObject x -0.9; 
/ITL/scene/myObject y 0.9; 
/ITL/scene/myObject scale 2.0;
</code></pre>

<h3 id="relative-positioning">Relative positioning</h3>
<p><a name="relpos"></a></p>
<p><a name="2-common-dx"></a>
<a name="2-common-dy"></a>
<a name="2-common-dz"></a>
<a name="2-common-dangle"></a>
<a name="2-common-drotatex"></a>
<a name="2-common-drotatey"></a>
<a name="2-common-drotatez"></a>
<a name="2-common-dscale"></a>
<a name="2-common-dx"></a>
<a name="2-common-dy"></a>
<a name="2-common-dz"></a></p>
<div class="rail">
<span class="railtitle">relPosMsg</span>
<br /><script>
ComplexDiagram(
    Choice (0, Sequence ('dx', NonTerminal('float32')), Sequence ('dy', NonTerminal('float32')), Sequence ('dz', NonTerminal('float32')), Sequence ('drotatex', NonTerminal('float32')), Sequence ('drotatey', NonTerminal('float32')), Sequence ('drotatez', NonTerminal('float32')), Sequence ('dangle', NonTerminal('float32')), Sequence ('dscale', NonTerminal('float32')))
).addTo()

</script>
</div>

<ul>
<li><span class="OSC">dx</span>, <span class="OSC">dy</span>, <span class="OSC">dz</span> messages are similar to <span class="OSC">x</span>, <span class="OSC">y</span>, <span class="OSC">z</span> but the parameters represent a displacement relative to the current target value.</li>
<li><span class="OSC">drotatex</span>, <span class="OSC">drotatey</span>, <span class="OSC">drotatez</span> are relative rotation messages. <span class="OSC">dangle</span> is equivalent to <span class="OSC">drotatez</span> and is maintained only for compatibility reasons.</li>
<li><span class="OSC">dscale</span> is similar to <span class="OSC">scale</span> but the parameters represents a scale multiplying factor.</li>
</ul>
<p><span class="example">Example</span> 
Relative displacement of an object:</p>
<pre><code>/ITL/scene/myObject dx 0.1;
</code></pre>

<h3 id="components-origin">Components origin</h3>
<p><a name="origin"></a></p>
<p>The origin of a component is the point <span class="values">(xo, yo)</span> such that the <span class="values">(x, y)</span> coordinates and the <span class="values">(xo, yo)</span> point coincide graphically. For example, when the origin is the top left corner, the component top left corner is drawn  at the <span class="values">(x, y)</span> coordinates.</p>
<p><a name="2-common-xorigin"></a>
<a name="2-common-yorigin"></a>
<a name="2-common-dxorigin"></a>
<a name="2-common-dyorigin"></a></p>
<div class="rail">
<span class="railtitle">originMsg</span>
<br /><script>
ComplexDiagram(
    Choice (0, Sequence ('xorigin', NonTerminal('float32')), Sequence ('yorigin', NonTerminal('float32')), Sequence ('dxorigin', NonTerminal('float32')), Sequence ('dyorigin', NonTerminal('float32')))
).addTo()

</script>
</div>

<ul>
<li><span class="OSC">xorigin</span>, <span class="OSC">yorigin</span> are relative to the component coordinates space i.e. <span class="values">[-1,1]</span>, where -1 is the top or left border and 1 is the bottom or right border. The default origin is <span class="values">[0,0]</span> i.e. the component is centered on its <span class="values">(x,y)</span> coordinates.</li>
<li><span class="OSC">dxorigin</span>, <span class="OSC">dyorigin</span> represents displacement of the current <span class="OSC">xorigin</span> or <span class="OSC">yorigin</span>.</li>
</ul>
<p><span class="example">Example</span> 
Setting an object graphic origin to the top left corner.</p>
<pre><code>/ITL/scene/myObject xorigin -1. ;
/ITL/scene/myObject yorigin -1. ;
</code></pre>

<h2 id="components-transformations">Components transformations</h2>
<p><a name="transform"></a></p>
<p>A component tranformation specifies 2D transformations of its coordinate system. It includes shear and object rotation on x, y and z axis.</p>
<p><a name="2-common-rotate"></a>
<a name="2-common-shear"></a>
<a name="2-common-dshear"></a></p>
<div class="rail">
<span class="railtitle">transformMsg</span>
<br /><script>
ComplexDiagram(
    Choice (0, Sequence (Choice (0, 'rotatex', 'rotatey', 'rotatez'), NonTerminal('float32')), Sequence (Choice (0, 'drotatex', 'drotatey', 'drotatez'), NonTerminal('float32')), Sequence (Choice (0, 'shear', 'dshear'), NonTerminal('x'), NonTerminal('y')))
).addTo()

</script>
</div>

<ul>
<li><span class="OSC">rotatex rotatey rotatez</span>: rotates the component around the corresponding axis. Parameter value expresses the rotation in degrees.</li>
<li><span class="OSC">drotatex drotatey drotatez</span>: relative rotations.</li>
<li><span class="OSC">shear</span> transforms the component in x and y dimensions. <span class="OSC">x</span> and <span class="OSC">y</span> are float values expressing the transformation value in the corresponding dimension. Values should be in the range ]-1, 1[.</li>
<li><span class="OSC">dshear</span> relative <span class="OSC">shear</span> transformation.</li>
</ul>
<p><span class="example">Example</span> 
Rotating an object graphic on the <span class="OSC">z</span> axis.</p>
<pre><code>/ITL/scene/myObject rotatez 90. ;
</code></pre>

<p><span class="note">Note: </span> <span class="OSC">angle</span> and <span class="OSC">rotatez</span> are equivalent. <span class="OSC">angle</span> has been introduced before the transformation messages and is maintained for compatibility reasons.</p>
<h2 id="color-messages">Color messages</h2>
<p><a name="colormsg"></a></p>
<div class="rail">
<span class="railtitle">ColorMsg</span>
<br /><script>
ComplexDiagram(
    Choice (0, NonTerminal('absColorMsg'), NonTerminal('relColorMsg'))
).addTo()

</script>
</div>

<p>Color messages are absolute or relative color control messages. Color may be expressed in RGBA or HSBA.</p>
<h3 id="absolute-color-messages">Absolute color messages</h3>
<p><a name="abscolor"></a></p>
<p><a name="2-common-color"></a>
<a name="2-common-name"></a>
<a name="2-common-red"></a>
<a name="2-common-blue"></a>
<a name="2-common-green"></a>
<a name="2-common-alpha"></a>
<a name="2-common-hue"></a>
<a name="2-common-saturation"></a>
<a name="2-common-brightness"></a></p>
<div class="rail">
<span class="railtitle">absColorMsg</span>
<br /><script>
ComplexDiagram(
    Choice (0, NonTerminal('color'), NonTerminal('hsb'), Sequence ('red', NonTerminal('colorvalue')), Sequence ('green', NonTerminal('colorvalue')), Sequence ('blue', NonTerminal('colorvalue')), Sequence ('alpha', NonTerminal('colorvalue')), Sequence ('hue', NonTerminal('colorvalue')), Sequence ('saturation', NonTerminal('colorvalue')), Sequence ('brightness', NonTerminal('colorvalue')))
).addTo()

</script>
</div>

<p><span class="OSC">red</span>, <span class="OSC">green</span>, <span class="OSC">blue</span>, <span class="OSC">hue</span>, <span class="OSC">saturation</span>, <span class="OSC">brightness</span>, <span class="OSC">alpha</span> messages address a specific part of a color using the RGB or HSB scheme.</p>
<div class="rail">
<span class="railtitle">colorvalue</span>
<br /><script>
ComplexDiagram(
    Choice (0, NonTerminal('int32'), NonTerminal('float32'))
).addTo()

</script>
</div>

<p>The value may be specified as integer or float. The data range is given in table <a href="../2-common#colorrange">colorrange</a>.
When the alpha component is not specified, the color is assumed to be opaque. </p>
<table>
<thead>
<tr>
<th align="right">Component</th>
<th align="center">integer range</th>
<th align="center">float range</th>
</tr>
</thead>
<tbody>
<tr>
<td align="right"><span class="OSC">red</span> [R]</td>
<td align="center">[0,255]</td>
<td align="center">[-1,1]</td>
</tr>
<tr>
<td align="right"><span class="OSC">green</span> [G]</td>
<td align="center">[0,255]</td>
<td align="center">[-1,1]</td>
</tr>
<tr>
<td align="right"><span class="OSC">blue</span> [B]</td>
<td align="center">[0,255]</td>
<td align="center">[-1,1]</td>
</tr>
<tr>
<td align="right"><span class="OSC">alpha</span> [A]</td>
<td align="center">[0,255]</td>
<td align="center">[-1,1]</td>
</tr>
<tr>
<td align="right"><span class="OSC">hue</span> [H]</td>
<td align="center">[0,360]</td>
<td align="center">[-1,1] mapped to [-180,180]</td>
</tr>
<tr>
<td align="right"><span class="OSC">saturation</span> [S]</td>
<td align="center">[0,100]</td>
<td align="center">[-1,1]</td>
</tr>
<tr>
<td align="right"><span class="OSC">brightness</span> [B]</td>
<td align="center">[0,100]</td>
<td align="center">[-1,1]</td>
</tr>
<tr>
<td align="right"><a name="colorrange"></a></td>
<td align="center"></td>
<td align="center"></td>
</tr>
</tbody>
</table>
<p><span class='caption'>Color components data ranges when expressed as integer or float.</span></p>
<p><span class="example">Example</span> 
The same alpha channel specified as integer value or as floating point value:</p>
<pre><code>/ITL/scene/myObject alpha 51 ;
/ITL/scene/myObject alpha 0.2 ;
</code></pre>

<h3 id="the-color-messages">The color messages</h3>
<p><a name="colormsg"></a></p>
<p><a name="2-common-color"></a></p>
<div class="rail">
<span class="railtitle">color</span>
<br /><script>
ComplexDiagram(
    Sequence ('color', Choice (0, Sequence (Comment ('1'), Sequence ('r', 'g', 'b')), Sequence (Comment ('2'), Sequence ('r', 'g', 'b', 'a')), Sequence (Comment ('3'), 'name'), Sequence (Comment ('4'), 'hexValue')))
).addTo()

</script>
</div>

<p><span class="OSC">color</span> sets an object color in the RGBA space. The color can be specified in different ways:</p>
<ul>
<li><strong>1</strong> sets the color using RGB values. Alpha is not specified and the color is assumed to be opaque. </li>
<li><strong>2</strong> sets the color using RGBA values.  </li>
<li><strong>3</strong> sets the color using a name among html defined names (see at <a href="https://www.w3schools.com/colors/colors_names.asp">https://www.w3schools.com/colors/colors_names.asp</a>). Name is not case sensitive.</li>
<li><strong>4</strong> sets the color using a single hexadecimal value in the form <span class="OSC">0xrrggbb</span> or <span class="OSC">0xrrggbbaa</span>.</li>
</ul>
<p>The default color value is <span class="values">[0,0,0,255]</span>.</p>
<h3 id="the-hsb-messages">The hsb messages</h3>
<p><a name="hsbmsg"></a></p>
<p><a name="2-common-hsb"></a></p>
<div class="rail">
<span class="railtitle">hsb</span>
<br /><script>
ComplexDiagram(
    Sequence ('hsb', Choice (0, Sequence ('h', 's', 'b'), Sequence ('h', 's', 'b', 'a')))
).addTo()

</script>
</div>

<p><span class="OSC">hsb</span> sets an object color in the HSBA space. 
When A is not specified, the color is assumed to be opaque. </p>
<h3 id="relative-color-messages">Relative color messages</h3>
<p><a name="relcolormsg"></a></p>
<p><a name="2-common-dcolor"></a>
<a name="2-common-dhsb"></a>
<a name="2-common-dred"></a>
<a name="2-common-dgreen"></a>
<a name="2-common-dblue"></a>
<a name="2-common-dhue"></a>
<a name="2-common-dsaturation"></a>
<a name="2-common-dbrightness"></a>
<a name="2-common-dalpha"></a></p>
<div class="rail">
<span class="railtitle">relColorMsg</span>
<br /><script>
ComplexDiagram(
    Choice (0, Sequence ('dcolor', NonTerminal('color')), Sequence ('dhsb', NonTerminal('hsb')), Sequence ('dred', NonTerminal('colorvalue')), Sequence ('dgreen', NonTerminal('colorvalue')), Sequence ('dblue', NonTerminal('colorvalue')), Sequence ('dhue', NonTerminal('colorvalue')), Sequence ('dsaturation', NonTerminal('colorvalue')), Sequence ('dbrightness', NonTerminal('colorvalue')), Sequence ('dalpha', NonTerminal('colorvalue')))
).addTo()

</script>
</div>

<ul>
<li><span class="OSC">dred</span>, <span class="OSC">dgreen</span>, etc. messages are similar to <span class="OSC">red</span>, <span class="OSC">green</span>, etc. messages but the parameters values represent a displacement of the current target value.</li>
<li><span class="OSC">dcolor</span> and <span class="OSC">dhsb</span> are similar and each color parameter represents a displacement of the corresponding target value.</li>
</ul>
<p><span class="example">Example</span> 
Moving a color in the RGBA space:</p>
<pre><code>TL/scene/myObject dcolor 10 5 0 -10 ,
</code></pre>

<p>will increase the red component by 10, the blue component by 5, and decrease the transparency by 10.</p>
<p><span class="note">Note: </span> Objects that are carrying color information (images, SVG) don't respond to color change but are sensitive to transparency changes.</p>
<h2 id="pen-control">Pen control</h2>
<p><a name="pencontrol"></a></p>
<p>Pen messages accepted by all the components and result in 2 different behaviors:</p>
<ul>
<li>for components types <span class="OSC">rect | ellipse | polygon | curve | line | graph | fast graph | grid</span>, it makes the object border visible using the pen attributes;</li>
<li>for the other components and when the pen width is greater than 0, it makes the object bounding box visible.</li>
</ul>
<p><a name="2-common- penColor"></a>
<a name="2-common- penAlpha"></a>
<a name="2-common- pendAlpha"></a>
<a name="2-common- penWidth"></a>
<a name="2-common- penStyle"></a></p>
<div class="rail">
<span class="railtitle">penMsg</span>
<br /><script>
ComplexDiagram(
    Choice (0, Sequence ('penWidth', NonTerminal('float32')), Sequence ('penColor', NonTerminal('color')), Sequence ('penStyle', NonTerminal('penstyle')), Sequence ('penAlpha', NonTerminal('alphavalue')), Sequence ('pendAlpha', NonTerminal('alphavalue')))
).addTo()

</script>
</div>

<ul>
<li><span class="OSC">penWidth</span> controls the pen width. The default value is 0 (excepted for <span class="OSC">line</span> objects, where 1.0 is the default value). It is expressed in arbitrary units (1 is a reasonable value).</li>
<li><span class="OSC">penColor</span> controls the pen color. The color should be given in the RGBA space. The default value is opaque black (0 0 0 255).</li>
<li><span class="OSC">penStyle</span> controls the pen style.</li>
<li><span class="OSC">penAlpha, pendAlpha</span> controls the pen transparency only. See section <a href="../2-common#colormsg">colormsg</a> for the expected </li>
</ul>
<p><a name="2-common- solid"></a>
<a name="2-common- dash"></a>
<a name="2-common- dot"></a>
<a name="2-common- dashDot"></a>
<a name="2-common- dashDotDot"></a></p>
<div class="rail">
<span class="railtitle">penstyle</span>
<br /><script>
ComplexDiagram(
    Choice (0, 'solid', 'dash', 'dot', 'dashDot', 'dashDotDot')
).addTo()

</script>
</div>

<p>The pen style default value is <span class="OSC">solid</span>.</p>
<p><span class="example">Example</span> 
Setting a rectangle border width and color:</p>
<pre><code>/ITL/scene/rect set rect 0.5 0.5 ;
/ITL/scene/rect penWidth 2. ;
/ITL/scene/rect penColor 255 0 0 ;  
</code></pre>

<h2 id="the-effect-messages">The 'effect' messages</h2>
<p><a name="effectmsg"></a></p>
<p>The <span class="OSC">effect</span> message sets a graphic effect on the target object.</p>
<p><a name="2-common-none"></a>
<a name="2-common-blur"></a>
<a name="2-common-colorize"></a>
<a name="2-common-shadow"></a></p>
<div class="rail">
<span class="railtitle">effectMsg</span>
<br /><script>
ComplexDiagram(
    Sequence ('effect', Choice (0, 'none', Sequence (Choice (0, 'blur', 'colorize', 'shadow'), Optional  ( NonTerminal('params')))))
).addTo()

</script>
</div>

<ul>
<li><span class="OSC">none</span>: removes any effect set on the target object.</li>
<li><span class="OSC">blur, colorize, shadow</span>: sets the corresponding effect. An effect always replaces any previous effect. The effect name is followed by optional specific effects parameters.</li>
</ul>
<p><span class="note">Note: </span> An effect affects the target object but also all the target slaves.</p>
<h3 id="the-blur-effect">The blur effect</h3>
<p><a name="eblur"></a></p>
<div class="rail">
<span class="railtitle">blurParams</span>
<br /><script>
ComplexDiagram(
    Sequence (NonTerminal('int32'), Optional  ( NonTerminal('blurHint')))
).addTo()

</script>
</div>

<p>Blur parameters are the blur radius and a rendering hint. The radius is an int32 value. By default, it is 5 pixels. The radius is given in device coordinates, meaning it is unaffected by scale. </p>
<div class="rail">
<span class="railtitle">blurHint</span>
<br /><script>
ComplexDiagram(
    Choice (0, 'performance', 'quality', 'animation')
).addTo()

</script>
</div>

<p>Use the <span class="OSC">performance</span> hint to say that you want a faster blur, the <span class="OSC">quality</span> hint to say that you prefer a higher quality blur, or the <span class="OSC">animation</span> when you want to animate the blur radius. The default hint value is <span class="OSC">performance</span>.</p>
<p><span class="example">Example</span> 
Setting a 8 pixels effect on <span class="OSC">myObject</span></p>
<pre><code>/ITL/scene/myObject effect blur 8;
</code></pre>

<h3 id="the-colorize-effect">The colorize effect</h3>
<p><a name="ecolorize"></a></p>
<div class="rail">
<span class="railtitle">colorizeParams</span>
<br /><script>
ComplexDiagram(
    Sequence (NonTerminal('float32'), Optional  ( NonTerminal('color')))
).addTo()

</script>
</div>

<p>Colorize parameters are a strength and a tint color. The strength is a float value. By default, it is 1.0. A strength 0.0 equals to no effect, while 1.0 means full colorization. 
The color is given as a RGB triplet (see section <a href="../2-common#colormsg">colormsg</a>) by default, the color value is light blue (0, 0, 192).</p>
<p><span class="example">Example</span> 
Setting a red colorize effect on <span class="OSC">myObject</span> with a 0.5 strength.</p>
<pre><code>/ITL/scene/myObject effect colorize 0.5 200 0 0;
</code></pre>

<h3 id="the-shadow-effect">The shadow effect</h3>
<p><a name="eshadow"></a></p>
<div class="rail">
<span class="railtitle">shadowParams</span>
<br /><script>
ComplexDiagram(
    Sequence (NonTerminal('xoffset'), NonTerminal('yoffset'), Optional  ( Sequence (NonTerminal('color'), Optional  ( NonTerminal('blur')))))
).addTo()

</script>
</div>

<p><span class="OSC">xoffset</span> and <span class="OSC">yoffset</span> are the shadow offset and should be given as int32 values. The default value is 8 pixels. The offset is given in device coordinates, which means it is unaffected by scale. 
The color is given as a RGBA color (see section <a href="../2-common#colormsg">colormsg</a>) by default, the color value is a semi-transparent dark gray (63, 63, 63, 180) 
The blur radius should be given as an int32 value. By default, the blur radius is 1 pixel.</p>
<p><span class="example">Example</span> 
Setting a shadow effect on <span class="OSC">myObject</span>. 
The shadow offset is (10,10) pixels, the color is a transparent grey (100,100,100, 50) and the blur is 8 pixels.</p>
<pre><code>/ITL/scene/myObject effect shadow 10 10 100 100 100 50 8;
</code></pre>

<h2 id="the-edit-message">The 'edit' message</h2>
<p><a name="editmsg"></a></p>
<p>The <span class="OSC">edit</span> message opens a small editor that allows to edit the target object attributes.</p>
<p><a name="2-common-edit"></a></p>
<div class="rail">
<span class="railtitle">editMsg</span>
<br /><script>
ComplexDiagram(
    Sequence ('edit', Choice (0, Comment ('1'), Sequence (Comment ('2'), OneOrMore (NonTerminal('attributes'))), Sequence (Comment ('3'), NonTerminal('reset'))))
).addTo()

</script>
</div>

<ul>
<li><strong>1</strong>: without argument, the editor is initalized with all the target object attributes.</li>
<li><strong>2</strong>: using a list of attributes, the editor is initalized with the target object corresponding attributes. Note that <span class="OSC">set</span> as attribute can be used to edit the object <span class="OSC">set</span> message.</li>
<li><strong>3</strong>: <span class="OSC">reset</span> is used to clear the edit string stored in the object cache. It is equivalent to the 'clear' button in the edit dialog. Note that as long as the edit string stored in the cache is not empty, <span class="OSC">edit</span> messages are ignored unless followed by a <span class="OSC">reset</span> (see below).</li>
</ul>
<p>Each object maintains the current content of the editor, that is initialized at first <span class="OSC">edit</span> message or when this content is cleared. Successive call to <span class="OSC">edit</span> will preserve the editor content unless it is cleared.</p>
<p><span class="note">Note:</span> Since the editor preserves its content, it doesn't take account of changes that may result from received messages and thus may not reflect the target object changes. To synchronize the editor content with the current attributes values, you can clear the editor content, which will refresh the attributes to their current values.</p>
<p><span class="note">Note:</span> Although initialized with the target object attributes, the editor supports arbitrary INScore messages, i.e. addressed to any other object or even making use of extended OSC addresses.</p>
<p><span class="example">Example</span> 
Editing an object on double click:</p>
<pre><code>/ITL/scene/myObject watch doubleClick (/ITL/scene/myObject edit);
</code></pre>

<p>Editing some specific attributes:</p>
<pre><code>/ITL/scene/myObject watch doubleClick (/ITL/scene/myObject edit x y);
</code></pre></div>
        </div>

        <footer class="col-md-12">
            <hr>
                <p><a href="https://inscore.grame.fr">INscore projects</a> Copyright &copy; 2019-2020 <a href="http://www.grame.fr">Grame-CNCM</a></p>
            <p>Documentation built with <a href="https://www.mkdocs.org/">MkDocs</a>.</p>
        </footer>
        <script>
            var base_url = "../..",
                shortcuts = {"help": 191, "next": 78, "previous": 80, "search": 83};
        </script>
        <script src="../../js/base.js" defer></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML" defer></script>
        <script src="../../search/main.js" defer></script>

        <div class="modal" id="mkdocs_search_modal" tabindex="-1" role="dialog" aria-labelledby="Search Modal" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
                <h4 class="modal-title" id="exampleModalLabel">Search</h4>
            </div>
            <div class="modal-body">
                <p>
                    From here you can search these documents. Enter
                    your search terms below.
                </p>
                <form role="form">
                    <div class="form-group">
                        <input type="text" class="form-control" placeholder="Search..." id="mkdocs-search-query" title="Type search term here">
                    </div>
                </form>
                <div id="mkdocs-search-results"></div>
            </div>
            <div class="modal-footer">
            </div>
        </div>
    </div>
</div><div class="modal" id="mkdocs_keyboard_modal" tabindex="-1" role="dialog" aria-labelledby="Keyboard Shortcuts Modal" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
                <h4 class="modal-title" id="exampleModalLabel">Keyboard Shortcuts</h4>
            </div>
            <div class="modal-body">
              <table class="table">
                <thead>
                  <tr>
                    <th style="width: 20%;">Keys</th>
                    <th>Action</th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <td class="help shortcut"><kbd>?</kbd></td>
                    <td>Open this help</td>
                  </tr>
                  <tr>
                    <td class="next shortcut"><kbd>n</kbd></td>
                    <td>Next page</td>
                  </tr>
                  <tr>
                    <td class="prev shortcut"><kbd>p</kbd></td>
                    <td>Previous page</td>
                  </tr>
                  <tr>
                    <td class="search shortcut"><kbd>s</kbd></td>
                    <td>Search</td>
                  </tr>
                </tbody>
              </table>
            </div>
            <div class="modal-footer">
            </div>
        </div>
    </div>
</div>

    </body>
</html>

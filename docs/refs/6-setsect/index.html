<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        
        
        
        <link rel="shortcut icon" href="../../img/favicon.ico">
        <title>The set Message - INScore Documentation</title>
        <link href="../../css/bootstrap.min.css" rel="stylesheet">
        <link href="../../css/font-awesome.min.css" rel="stylesheet">
        <link href="../../css/base.css" rel="stylesheet">
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/github.min.css">
        <link href="/css/inscore.css" rel="stylesheet">
        <link href="/css/pubs.css" rel="stylesheet">
        <link href="/BNF/railroad-diagrams.css" rel="stylesheet">

        <script src="../../js/jquery-1.10.2.min.js" defer></script>
        <script src="../../js/bootstrap.min.js" defer></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/highlight.min.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/languages/inscore.min.js"></script>
        <script>hljs.initHighlightingOnLoad();</script> 
    </head>

    <body>
        <div class="navbar fixed-top navbar-expand-lg navbar-dark bg-primary">
            <div class="container">
                <a class="navbar-brand" href="../..">INScore Documentation</a>
                <!-- Expander button -->
                <button type="button" class="navbar-toggler" data-toggle="collapse" data-target="#navbar-collapse">
                    <span class="navbar-toggler-icon"></span>
                </button>

                <!-- Expanded navigation -->
                <div id="navbar-collapse" class="navbar-collapse collapse">
                        <!-- Main navigation -->
                        <ul class="nav navbar-nav">
                            <li class="navitem">
                                <a href="../.." class="nav-link">Home</a>
                            </li>
                            <li class="dropdown active">
                                <a href="#" class="nav-link dropdown-toggle" data-toggle="dropdown">Reference <b class="caret"></b></a>
                                <ul class="dropdown-menu">
                                    
  <li class="dropdown-submenu">
    <a href="#" class="dropdown-item">Messages</a>
    <ul class="dropdown-menu">
            
<li>
    <a href="../1-introduction/" class="dropdown-item">Introduction</a>
</li>
            
<li>
    <a href="../2-genformat/" class="dropdown-item">Format of a message</a>
</li>
            
<li>
    <a href="../3-common/" class="dropdown-item">Common Messages</a>
</li>
            
<li>
    <a href="../4-time/" class="dropdown-item">Time Messages</a>
</li>
            
<li>
    <a href="../5-miscmsgs/" class="dropdown-item">Miscellaneous</a>
</li>
            
<li>
    <a href="./" class="dropdown-item active">The set Message</a>
</li>
            
<li>
    <a href="../7-getsect/" class="dropdown-item">The get Message</a>
</li>
            
<li>
    <a href="../8-specificMsg/" class="dropdown-item">Specific Messages</a>
</li>
            
<li>
    <a href="../9-ITL/" class="dropdown-item">Application Messages</a>
</li>
            
<li>
    <a href="../10-scene/" class="dropdown-item">Scene Messages</a>
</li>
            
<li>
    <a href="../11-forwarding/" class="dropdown-item">Messages Forwarding</a>
</li>
            
<li>
    <a href="../12-layers/" class="dropdown-item">Layers</a>
</li>
            
<li>
    <a href="../13-mapping/" class="dropdown-item">Mapping</a>
</li>
            
<li>
    <a href="../14-syncmsg/" class="dropdown-item">Synchronization</a>
</li>
            
<li>
    <a href="../15-graphsig/" class="dropdown-item">Graphic signals</a>
</li>
            
<li>
    <a href="../16-sensors/" class="dropdown-item">Sensors</a>
</li>
            
<li>
    <a href="../17-interaction/" class="dropdown-item">Events</a>
</li>
            
<li>
    <a href="../18-scoreExpr/" class="dropdown-item">Score Expressions</a>
</li>
            
<li>
    <a href="../19-plugins/" class="dropdown-item">Plugins</a>
</li>
            
<li>
    <a href="../20-changes/" class="dropdown-item">Changes list</a>
</li>
            
<li>
    <a href="../" class="dropdown-item">Index</a>
</li>
    </ul>
  </li>
                                    
  <li class="dropdown-submenu">
    <a href="#" class="dropdown-item">Scripting language</a>
    <ul class="dropdown-menu">
            
<li>
    <a href="../../lang/1-scripting/" class="dropdown-item">Language</a>
</li>
            
<li>
    <a href="../../lang/2-mathExpr/" class="dropdown-item">Math. expressions</a>
</li>
            
<li>
    <a href="../../lang/3-appendices/" class="dropdown-item">Grammar</a>
</li>
    </ul>
  </li>
                                    
  <li class="dropdown-submenu">
    <a href="#" class="dropdown-item">INScore Web</a>
    <ul class="dropdown-menu">
            
<li>
    <a href="../../web/1-introduction/" class="dropdown-item">Introduction</a>
</li>
            
<li>
    <a href="../../web/2-mainDiffs/" class="dropdown-item">Global changes</a>
</li>
            
<li>
    <a href="../../web/3-unsupported/" class="dropdown-item">Unsupported messages</a>
</li>
            
<li>
    <a href="../../web/4-behavior/" class="dropdown-item">Behavioral changes</a>
</li>
            
<li>
    <a href="../../web/5-newMessages/" class="dropdown-item">Specific messages</a>
</li>
            
<li>
    <a href="../../web/6-MIDI/" class="dropdown-item">MIDI support</a>
</li>
            
<li>
    <a href="../../web/7-audioObjects/" class="dropdown-item">Audio objects</a>
</li>
            
<li>
    <a href="../../web/8-communication/" class="dropdown-item">Communication</a>
</li>
    </ul>
  </li>
                                </ul>
                            </li>
                            <li class="dropdown">
                                <a href="#" class="nav-link dropdown-toggle" data-toggle="dropdown">Documents <b class="caret"></b></a>
                                <ul class="dropdown-menu">
                                    
<li>
    <a href="http://berio.grame.fr/MusicNotation/Introduction-to-INScore/" class="dropdown-item">Tutorial</a>
</li>
                                    
<li>
    <a href="../../rsrc/INScoreMessages.pdf" class="dropdown-item">Messages reference</a>
</li>
                                    
<li>
    <a href="../../rsrc/INScoreLang.pdf" class="dropdown-item">Language reference</a>
</li>
                                    
<li>
    <a href="../../rsrc/INScoreWeb.pdf" class="dropdown-item">Web reference</a>
</li>
                                    
<li>
    <a href="../../papers/" class="dropdown-item">Papers</a>
</li>
                                </ul>
                            </li>
                            <li class="dropdown">
                                <a href="#" class="nav-link dropdown-toggle" data-toggle="dropdown">Download <b class="caret"></b></a>
                                <ul class="dropdown-menu">
                                    
<li>
    <a href="https://github.com/grame-cncm/inscore/releases" class="dropdown-item">INScore</a>
</li>
                                </ul>
                            </li>
                            <li class="navitem">
                                <a href="../../about/" class="nav-link">About</a>
                            </li>
                        </ul>

                    <ul class="nav navbar-nav ml-auto">
                        <li class="nav-item">
                            <a href="#" class="nav-link" data-toggle="modal" data-target="#mkdocs_search_modal">
                                <i class="fa fa-search"></i> Search
                            </a>
                        </li>
                            <li class="nav-item">
                                <a rel="prev" href="../5-miscmsgs/" class="nav-link">
                                    <i class="fa fa-arrow-left"></i> Previous
                                </a>
                            </li>
                            <li class="nav-item">
                                <a rel="next" href="../7-getsect/" class="nav-link">
                                    Next <i class="fa fa-arrow-right"></i>
                                </a>
                            </li>
                    </ul>
                </div>
            </div>
        </div>

        <div class="container">
            <div class="row">
                    <div class="col-md-3"><div class="navbar-light navbar-expand-md bs-sidebar hidden-print affix" role="complementary">
    <div class="navbar-header">
        <button type="button" class="navbar-toggler collapsed" data-toggle="collapse" data-target="#toc-collapse" title="Table of Contents">
            <span class="fa fa-angle-down"></span>
        </button>
    </div>

    
    <div id="toc-collapse" class="navbar-collapse collapse card bg-secondary">
        <ul class="nav flex-column">
            
            <li class="nav-item" data-level="1"><a href="#the-set-message" class="nav-link">The 'set' message</a>
              <ul class="nav flex-column">
            <li class="nav-item" data-level="2"><a href="#symbolic-music-notation" class="nav-link">Symbolic music notation</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-level="2"><a href="#piano-roll-music-notation" class="nav-link">Piano roll music notation</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-level="2"><a href="#textual-components" class="nav-link">Textual components</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-level="2"><a href="#vectorial-graphics" class="nav-link">Vectorial graphics</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-level="2"><a href="#signals-and-graphic-signals" class="nav-link">Signals and graphic signals</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-level="2"><a href="#media-files" class="nav-link">Media files</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-level="2"><a href="#miscellaneous" class="nav-link">Miscellaneous</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-level="2"><a href="#file-based-resources" class="nav-link">File based resources</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-level="2"><a href="#the-file-type" class="nav-link">The file type</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-level="2"><a href="#web-objects" class="nav-link">Web objects</a>
              <ul class="nav flex-column">
              </ul>
            </li>
              </ul>
            </li>
        </ul>
    </div>
</div></div>
                    <div class="col-md-9" role="main">

<script src='/BNF/railroad-diagrams.js'></script>

<h1 id="the-set-message">The 'set' message</h1>
<p><a name="setsect"></a></p>
<p>The <span class="OSC">set</span> messages can be sent to any address with the form <span class="OSC">/ITL/scene/<em>identifier</span></em>. The global form of the message is:</p>
<div class="rail">
<span class="railtitle">setMsg</span>
<br /><script>
ComplexDiagram(
    Sequence ('set', NonTerminal('type'), NonTerminal('data'))
).addTo()

</script>
</div>

<p>It sets a <span class="OSC">scene</span> component data. </p>
<p>When there is no destination for the OSC address, the component is first created before being given the message. </p>
<p>When the target destination type doesn't correspond to the message <span class="OSC">type</span>, the object is replaced by an adequate object.</p>
<h2 id="symbolic-music-notation">Symbolic music notation</h2>
<p><a name="symscore"></a></p>
<p>Symbolic music notation support is based on the Guido Music Notation format [GMN] or on the MusicXML format. MusicXMl is supported via conversion to the GMN format when the MusicXML library is present.</p>
<p><a name="6-setsect-set"></a>
<a name="6-setsect-gmn"></a>
<a name="6-setsect-gmnf"></a>
<a name="6-setsect-gmnstream"></a>
<a name="6-setsect-musicxml"></a>
<a name="6-setsect-musicxmlf"></a></p>
<div class="rail">
<span class="railtitle">setScore</span>
<br /><script>
ComplexDiagram(
    Sequence ('set', Choice (0, Sequence ('gmn', NonTerminal('gmnString')), Sequence ('gmnf', NonTerminal('gmnFilePath')), Sequence ('gmnstream', NonTerminal('gmnStream')), Sequence ('musicxml', NonTerminal('xmlString')), Sequence ('musicxmlf', NonTerminal('xmlFilePath')), Sequence ('gmn', 'expr', NonTerminal('scoreExpression'))))
).addTo()

</script>
</div>

<ul>
<li><span class="OSC">gmn</span>: a Guido score defined by a GMN string.</li>
<li><span class="OSC">gmnf</span>: a Guido score defined by a GMN file.</li>
<li><span class="OSC">gmnstream</span>: a Guido score defined by a GMN stream (a GMN string that can be written in several times).</li>
<li><span class="OSC">musicxml</span>: a score defined by a MusicXML string.</li>
<li><span class="OSC">musicxmlf</span>: a score defined by a MusicXML file.</li>
<li><span class="OSC">gmn expr</span>: a score defined by a <strong>score expression</strong>. See section <a href="../18-scoreExpr#scoreExpr">scoreExpr</a> for the score expressions reference.</li>
</ul>
<p><span class="example">Example</span> 
Creating a music score using a Guido Music Notation language string.</p>
<pre><code class="language-inscore">/ITL/scene/myObject set gmn &quot;[ a b g ]&quot;;
</code></pre>
<p>Creating the same music score as a stream.</p>
<pre><code class="language-inscore">/ITL/scene/myObject set gmnstream &quot;[ a&quot;;
/ITL/scene/myObject write &quot;b&quot;;
/ITL/scene/myObject write &quot;g&quot;;
</code></pre>
<p><span class="note">Note: </span> For compatibility with previous versions, passing a MusicXML string to a <span class="OSC">gmn</span> object or a MusicXML file to a <span class="OSC">gmnf</span> object may succed since the system tries to parse the content as GMN content or as MusicXML content when the former fails.</p>
<p><span class="note">Note: </span> Conversion from MusicXML to GMN could be achieved manually using a command line tool that is distributed with the MusicXML library (see at <a href="https://github.com/dfober/libmusicxml">https://github.com/dfober/libmusicxml</a>). It allows to improve the output GMN code afterhand.</p>
<h2 id="piano-roll-music-notation">Piano roll music notation</h2>
<p><a name="pianorollscore"></a>
Piano roll music notation is based on the Guido Music Notation format [GMN].</p>
<p><a name="6-setsect-set"></a>
<a name="6-setsect-pianoroll"></a>
<a name="6-setsect-pianorollstream"></a>
<a name="6-setsect-pianorollf"></a></p>
<div class="rail">
<span class="railtitle">setPianoRoll</span>
<br /><script>
ComplexDiagram(
    Sequence ('set', Choice (0, Sequence ('pianoroll', NonTerminal('gmnString')), Sequence ('pianorollstream', NonTerminal('gmnStream')), Sequence ('pianorollf', NonTerminal('filePath')), Sequence ('pianoroll', 'expr', NonTerminal('scoreExpression'))))
).addTo()

</script>
</div>

<ul>
<li><span class="OSC">pianoroll</span>: a piano roll defined by a GMN string.</li>
<li><span class="OSC">pianorollstream</span>: a piano roll defined by a GMN stream (a GMN string that can be written in several times).</li>
<li><span class="OSC">pianorollf</span>: a piano roll defined by a guido file (with ".gmn" extension) or by a midi file (with ".mid" extension). Warning: url forms are not supported for midi files.</li>
<li><span class="OSC">pianoroll expr</span>: a piano roll defined by a <strong>score expression</strong>. See section <a href="../18-scoreExpr#scoreExpr">scoreExpr</a> for the score expressions reference.</li>
</ul>
<p><span class="example">Example</span> 
Creating a pianoroll using a Guido Music Notation language string.</p>
<pre><code class="language-inscore">/ITL/scene/myObject set pianoroll &quot;[ a b g ]&quot;;
</code></pre>
<p>Creating the same piano roll as a stream.</p>
<pre><code class="language-inscore">/ITL/scene/myObject set pianorollstream &quot;[ a&quot;;
/ITL/scene/myObject write &quot;b&quot;;
/ITL/scene/myObject write &quot;g&quot;;
</code></pre>
<h2 id="textual-components">Textual components</h2>
<p><a name="textscore"></a></p>
<p><a name="6-setsect-txt"></a>
<a name="6-setsect-html"></a>
<a name="6-setsect-txtf"></a>
<a name="6-setsect-htmlf"></a></p>
<div class="rail">
<span class="railtitle">setText</span>
<br /><script>
ComplexDiagram(
    Sequence ('set', Choice (0, Sequence ('txt', Choice (0, NonTerminal('string'), NonTerminal('txtStream'))), Sequence ('txtf', NonTerminal('textFilePath')), Sequence ('html', NonTerminal('string')), Sequence ('htmlf', NonTerminal('htmlFilePath'))))
).addTo()

</script>
</div>

<ul>
<li><span class="OSC">txt</span>: a textual component.</li>
<li><span class="OSC">txtf</span>: a textual component defined by a file.</li>
<li><span class="OSC">html</span>: an html component defined by an HTML string.</li>
<li><span class="OSC">htmlf</span>: an html component defined by an HTML file.</li>
</ul>
<p>Text may be specified by a single quoted string or using an arbitrary count of parameters that are converted to a single string with a space used as separator.</p>
<div class="rail">
<span class="railtitle">txtStream</span>
<br /><script>
ComplexDiagram(
    OneOrMore (Choice (0, NonTerminal('string'), NonTerminal('int32'), NonTerminal('float32')))
).addTo()

</script>
</div>

<p><span class="example">Example</span> 
Creating a text object.</p>
<pre><code class="language-inscore">/ITL/scene/myObject set txt &quot;Hello ...    world!&quot;;
</code></pre>
<p>Setting the content of a text object using a values stream.</p>
<pre><code class="language-inscore">/ITL/scene/myObject set txt Hello 1 world and 0.5; 
</code></pre>
<h2 id="vectorial-graphics">Vectorial graphics</h2>
<p><a name="vgraphscore"></a></p>
<p><a name="6-setsect-svg"></a>
<a name="6-setsect-svgf"></a>
<a name="6-setsect-rect"></a>
<a name="6-setsect-ellipse"></a>
<a name="6-setsect-polygon"></a>
<a name="6-setsect-curve"></a>
<a name="6-setsect-arc"></a>
<a name="6-setsect-line"></a></p>
<div class="rail">
<span class="railtitle">setVGraphics</span>
<br /><script>
ComplexDiagram(
    Sequence ('set', Choice (0, Sequence ('svg', NonTerminal('svgString')), Sequence ('svgf', NonTerminal('svgFilePath')), Sequence ('rect', NonTerminal('width'), NonTerminal('height')), Sequence ('ellipse', NonTerminal('width'), NonTerminal('height')), Sequence ('polygon', OneOrMore (Sequence (NonTerminal('x'), NonTerminal('y')))), Sequence ('curve', OneOrMore (Sequence (NonTerminal('x1'), NonTerminal('y1'), NonTerminal('x2'), NonTerminal('y2'), NonTerminal('x3'), NonTerminal('y3'), NonTerminal('x4'), NonTerminal('y4')))), Sequence ('arc', NonTerminal('width'), NonTerminal('height'), NonTerminal('startAngle'), NonTerminal('endAngle')), Sequence ('line', Choice (0, Sequence ('xy', NonTerminal('x'), NonTerminal('y')), Sequence ('wa', NonTerminal('width'), NonTerminal('angle'))))))
).addTo()

</script>
</div>

<ul>
<li><span class="OSC">svg</span>: SVG graphics defined by a SVG string.</li>
<li><span class="OSC">svgf</span>: vectorial graphics defined by a SVG file.</li>
<li><span class="OSC">rect</span>: a rectangle specified by a width and height. Width and height are expressed in <span class="OSC">scene</span> coordinates space, thus a width or a height of 2 corresponds to the width or a height of the <span class="OSC">scene</span>.</li>
<li><span class="OSC">ellipse</span>: an ellipse specified by a width and height.</li>
<li><span class="OSC">polygon</span>: a polygon specified by a sequence of points, each point being defined by its (x,y) coordinates. The coordinates are expressed in the <span class="OSC">scene</span> coordinate space, but only the relative position of the points is taken into account (<strong>i.e</strong> a polygon A = { (0,0) ; (1,1) ; (0,1) } is equivalent to a polygon B = { (1,1) ; (2,2) ; (1,2) }).</li>
<li><span class="OSC">curve</span>: a sequence of 4-points bezier cubic curve. If the end-point of a curve doesn't match the start-point of the following one, the curves are linked by a straight line. The first curve follows the last curve. The inner space defined by the sequence of curves is filled, using the object color. The points coordinates are handled like in a <span class="OSC">polygon</span>.</li>
<li><span class="OSC">arc</span>: an arc defined by its enclosing rectangle and the start and end angles. Angles are in degrees and express counter-clockwise directions.</li>
<li><span class="OSC">line</span>: a simple line specified by a point (x,y) expressed in <span class="OSC">scene</span> coordinate space or by a width and angle. The point form is used to compute a line from (0,0) to (x,y), which is next drawn centered on the scene.</li>
</ul>
<p><span class="example">Example</span> 
Creating a rectangle with a 0.5 width and a 1.5 height.</p>
<pre><code class="language-inscore">/ITL/scene/myObject set rect 0.5 1.5;
</code></pre>
<p>Creating a line specified using width and angle.</p>
<pre><code class="language-inscore">/ITL/scene/myObject set line wa 1. 45.;
</code></pre>
<h2 id="signals-and-graphic-signals">Signals and graphic signals</h2>
<p><a name="sigscore"></a></p>
<p>Signals are special objects that are stored in a special <span class="OSC">signal</span> node and that may be composed in parallel to produce graphic signals. Signals and graphic signals are decribed in section <a href="../15-graphsig#graphsig">graphsig</a>.</p>
<p>Signals and computation on signals may be based on FAUST objects that are actually signals processors. FAUST objects are decribed in section <a href="../19-plugins#faust">faust</a>. 
For more information about the FAUST language, see at <a href="http://faust.grame.fr">http://faust.grame.fr</a>.</p>
<p><a name="6-setsect-graph"></a>
<a name="6-setsect-fastgraph"></a>
<a name="6-setsect-faust"></a>
<a name="6-setsect-faustdsp"></a></p>
<div class="rail">
<span class="railtitle">setGraphicSignal</span>
<br /><script>
ComplexDiagram(
    Sequence ('set', Choice (0, Sequence ('graph', NonTerminal('signals')), Sequence ('fastgraph', NonTerminal('signals')), Sequence ('faust', 'pluginname'), Sequence ('faustdsp', NonTerminal('faustcode')), Sequence ('faustdspf', NonTerminal('faustfile'))))
).addTo()

</script>
</div>

<ul>
<li><span class="OSC">graph</span>: graphic of a signal. See section <a href="../15-graphsig#graphsig">graphsig</a> for details about the <span class="OSC">graph</span> objects data.</li>
<li><span class="OSC">fastgraph</span>: fast rendering graphic signal. See also section <a href="../15-graphsig#graphsig">graphsig</a>.</li>
<li><span class="OSC">faust</span>: a FAUST object as a plugin (see section <a href="../19-plugins#faust">faust</a>)</li>
<li><span class="OSC">faustdsp</span>: a FAUST object defined by a string (see section <a href="../19-plugins#faust">faust</a>)</li>
<li><span class="OSC">faustdspf</span>: a FAUST object defined by a file (see section <a href="../19-plugins#faust">faust</a>)</li>
</ul>
<h2 id="media-files">Media files</h2>
<p><a name="imgscore"></a></p>
<p>Images, video and audio are supported using various formats. See section <a href="../6-setsect#fileset">fileset</a> for more details on the supported formats.</p>
<p><a name="6-setsect-img"></a>
<a name="6-setsect-memimg"></a>
<a name="6-setsect-video"></a>
<a name="6-setsect-audio"></a></p>
<div class="rail">
<span class="railtitle">setMedia</span>
<br /><script>
ComplexDiagram(
    Choice (0, Sequence ('img', NonTerminal('imgPath')), Sequence ('memimg', NonTerminal('objectPath')), Sequence ('video', NonTerminal('videoPath')), Sequence ('audio', NonTerminal('audioPath')))
).addTo()

</script>
</div>

<ul>
<li><span class="OSC">img</span>: an image file. The image format is inferred from the file extension.</li>
<li><span class="OSC">memimg</span>: a memory capture of the object given as argument. <span class="OSC">objectPath</span> indicates the target object that is captured with all its childrens. It may be an object name or a path to an object. Simple object names and relative path are looked for in the receiver layer.</li>
<li><span class="OSC">video</span>: a video file. The video format is inferred from the file extension. Note that navigation through the video is made using its <span class="OSC">date</span>.</li>
<li><span class="OSC">audio</span>: an audio file. The audio format is inferred from the file extension. <span class="OSC">audio</span> objects appear as a waveform but this waveforom is not (yet) computed from the audio data but randomly generated.</li>
</ul>
<p><span class="example">Example</span> 
Creating an image.</p>
<pre><code class="language-inscore">/ITL/scene/myObject set img &quot;myImage.png&quot;;
</code></pre>
<p>Creating a memory image of a scene.</p>
<pre><code class="language-inscore">/ITL/scene/myObject set memimg &quot;/ITL/scene&quot;;
</code></pre>
<p><span class="note">Note: </span> 
It is necessary to have an object or scene graphically rendered before a capture can be made. Since the actual graphic rendering is made asynchronously to the model update, a sequence of messages like the following:</p>
<pre><code class="language-inscore">/ITL/scene/myObject set gmn &quot;[a f g]&quot;;
/ITL/scene/capture set memimg myObject;
</code></pre>
<p>won't work if the messages are handled by the same time task. A delay is necessary between the two messages. To make sure all the objects have been rendered, you can use the scene <span class="OSC">endPaint</span> event.</p>
<h2 id="miscellaneous">Miscellaneous</h2>
<p><a name="miscscore"></a></p>
<p><a name="6-setsect-layer"></a>
<a name="6-setsect-grid"></a></p>
<div class="rail">
<span class="railtitle">setMisc</span>
<br /><script>
ComplexDiagram(
    Sequence ('set', Choice (0, 'layer', Sequence ('grid', NonTerminal('int32'), NonTerminal('int32'))))
).addTo()

</script>
</div>

<ul>
<li><span class="OSC">layer</span>: a graphic layer, may be viewed as a container (see section <a href="../12-layers#layers">layers</a>).</li>
<li><span class="OSC">grid</span>: a white transparent object that provides a predefined time to graphic mapping (see section <a href="../8-specificMsg#grid">grid</a> for more details and section <a href="../13-mapping#mapping">mapping</a> for time to graphic relations). The parameters are int32 values representing the number of columns and rows.</li>
</ul>
<h2 id="file-based-resources">File based resources</h2>
<p><a name="filebasedrsrc"></a></p>
<p>Most of the types can be either expressed with the corresponding data, or by a path to a file containing the data. For the latter form, the object type is generally suffixed with an 'f' (e.g. <span class="OSC">txtf</span>, <span class="OSC">htmlf</span>, <span class="OSC">gmnf</span>, <span class="OSC">musicxmlf</span>, <span class="OSC">svgf</span>, <span class="OSC">faustf</span>). The <span class="OSC">img</span>, <span class="OSC">audio</span> and  <span class="OSC">video</span> types have only a file form (and no 'f' suffix). 
A file path can be expressed as a Unix path (absolute or relative - see the scene or application <span class="OSC">rootPath</span> message for relative paths handling), but also as an URL.
Only the <span class="OSC">http:</span> protocol is currently supported.</p>
<p>When the system encounters an URL, it creates an intermediate object that is in charge of retrieving the corresponding data. This object has a specific <span class="OSC">url</span> type that takes the target type and an url as arguments. It has a graphic appearance (actually a light gray box containing the object name and the target url) that can be controled like for any regular object.</p>
<p><a name="6-setsect-url"></a></p>
<div class="rail">
<span class="railtitle">urlType</span>
<br /><script>
ComplexDiagram(
    Sequence ('url', NonTerminal('targetType'), NonTerminal('urlPath'))
).addTo()

</script>
</div>

<p>The <span class="OSC">url</span> intermediate object acts as a proxy for the target object and will transfer all its properties once the data are ready. A client can thus interact transparently with the target adress, whatever the status of the download request.</p>
<p><span class="example">Example</span> 
Creating a score using an URL:</p>
<pre><code class="language-inscore">/ITL/scene/score set gmnf &quot;http://anyhost.adomain.org/score.gmn&quot;; 
#  is equivalent to 
/ITL/scene/score set url gmnf &quot;http://anyhost.adomain.org/score.gmn&quot;;
</code></pre>
<p><span class="note">Note: </span> The <span class="OSC">url</span> object handles specific events : <span class="OSC">success</span>, <span class="OSC">error</span> and <span class="OSC">cancel</span> (see the section <a href="../17-interaction#urlevents">urlevents</a>).</p>
<h2 id="the-file-type">The file type</h2>
<p><a name="fileset"></a>
<a name="setfile"></a></p>
<p><a name="6-setsect-file"></a></p>
<div class="rail">
<span class="railtitle">setFile</span>
<br /><script>
ComplexDiagram(
    Sequence ('file', Choice (0, NonTerminal('filePath'), NonTerminal('urlPath')))
).addTo()

</script>
</div>

<ul>
<li><span class="OSC">file</span>: a generic type to handle file based objects. Actually, the <span class="OSC">file</span> type is translated into a one of the <span class="OSC">txtf</span>, <span class="OSC">gmnf</span>, <span class="OSC">img</span>, <span class="OSC">audio</span> or <span class="OSC">video</span> types, according to the file extension (see table <a href="../6-setsect#fileTranslate">fileTranslate</a>).</li>
</ul>
<p><span class="seealso">See also:</span> the application <span class="OSC">rootPath</span> message (section <a href="../9-ITL#ITL">ITL</a>) for file based objects.</p>
<table>
<thead>
<tr>
<th align="right">file extension</th>
<th align="center">translated type</th>
</tr>
</thead>
<tbody>
<tr>
<td align="right"><span class="OSC">.txt .text</span></td>
<td align="center"><span class="OSC">txtf</span></td>
</tr>
<tr>
<td align="right"><span class="OSC">.htm .html</span></td>
<td align="center"><span class="OSC">htmlf</span></td>
</tr>
<tr>
<td align="right"><span class="OSC">.gmn</span></td>
<td align="center"><span class="OSC">gmnf</span></td>
</tr>
<tr>
<td align="right"><span class="OSC">.xml</span></td>
<td align="center"><span class="OSC">musicxmlf</span></td>
</tr>
<tr>
<td align="right"><span class="OSC">.svg</span></td>
<td align="center"><span class="OSC">svgf</span></td>
</tr>
<tr>
<td align="right"><span class="OSC">.jpg .jpeg .png .gif .bmp .tiff</span></td>
<td align="center"><span class="OSC">img</span></td>
</tr>
<tr>
<td align="right"><span class="OSC">.avi .wmv .mpg .mpeg .mp4 .mov .vob</span></td>
<td align="center"><span class="OSC">video</span></td>
</tr>
<tr>
<td align="right"><span class="OSC">.mp3 .wav .aiff .aif, .m4a, .aac</span></td>
<td align="center"><span class="OSC">audio</span></td>
</tr>
<tr>
<td align="right"><span class="OSC">.dsp</span></td>
<td align="center"><span class="OSC">faustdspf</span></td>
</tr>
<tr>
<td align="right"><a name="fileTranslate"></a></td>
<td align="center"></td>
</tr>
</tbody>
</table>
<p><span class='caption'>File extensions supported by the <span class="OSC">file</span> translation scheme.</span></p>
<p><span class="example">Example</span> 
Creating an image using the <span class="OSC">file</span> type.</p>
<pre><code class="language-inscore">/ITL/scene/myObject set file &quot;myImage.png&quot;; 
#  is equivalent to 
/ITL/scene/myObject set img &quot;myImage.png&quot;;
</code></pre>
<h2 id="web-objects">Web objects</h2>
<p><a name="webobjects"></a></p>
<p>A score can make its content available to the Internet using specific components that provide an image of the scene over http or websocket protocols.</p>
<p>The <span class="OSC">httpd</span> server depends on the Httpd server plugin and is described in section <a href="../19-plugins#Httpd">Httpd</a>.</p>
<p>The <span class="OSC">websocket</span> server provides a two-ways communication between INScore and distant clients. The server sends notifications to client using a <span class="OSC">Screen updated</span> text message when the scene is updated. Clients can request an image by sending a <span class="OSC">getImage</span> text message to the server. The server responds with a image of the scene in png format, using a Blob type javascript object.</p>
<p><a name="6-setsect-websocket"></a>
<a name="6-setsect-httpd"></a></p>
<div class="rail">
<span class="railtitle">webobject</span>
<br /><script>
ComplexDiagram(
    Choice (0, Sequence ('websocket', NonTerminal('port'), NonTerminal('frequency')), Sequence ('httpd', NonTerminal('port')))
).addTo()

</script>
</div>

<ul>
<li><span class="OSC">port</span>: a port number for the socket communication.</li>
<li><span class="OSC">frequency</span>: a minimum time in millisecond between two <span class="OSC">Screen updated</span> notifications.</li>
</ul>
<p><span class="note">Note: </span> 
A busy port prevents the server to start. The server status can be checked with the <span class="OSC">get status</span> message.</p>
<p><span class="example">Example</span> 
Creating an websocket server using the port <span class="OSC">1234</span> and limiting the notifications rate to one per 500 milliseconds.</p>
<pre><code class="language-inscore">/ITL/scene/myObject set websocket 1234 500;
</code></pre>
<p><span class="seealso">See also:</span> the http web server plugin (section <a href="../19-plugins#Httpd">Httpd</a>).</p></div>
            </div>
        </div>

        <footer class="col-md-12">
            <hr>
                <p><a href="https://inscore.grame.fr">INscore projects</a> Copyright &copy; 2019-2021 <a href="http://www.grame.fr">Grame-CNCM</a></p>
            <p>Documentation built with <a href="https://www.mkdocs.org/">MkDocs</a>.</p>
        </footer>
        <script>
            var base_url = "../..",
                shortcuts = {"help": 191, "next": 78, "previous": 80, "search": 83};
        </script>
        <script src="../../js/base.js" defer></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML" defer></script>
        <script src="/js/inscore.js" defer></script>
        <script src="/js/pubs.js" defer></script>
        <script src="../../search/main.js" defer></script>

        <div class="modal" id="mkdocs_search_modal" tabindex="-1" role="dialog" aria-labelledby="searchModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-lg">
        <div class="modal-content">
            <div class="modal-header">
                <h4 class="modal-title" id="searchModalLabel">Search</h4>
                <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
            </div>
            <div class="modal-body">
                <p>
                    From here you can search these documents. Enter
                    your search terms below.
                </p>
                <form>
                    <div class="form-group">
                        <input type="search" class="form-control" placeholder="Search..." id="mkdocs-search-query" title="Type search term here">
                    </div>
                </form>
                <div id="mkdocs-search-results"></div>
            </div>
            <div class="modal-footer">
            </div>
        </div>
    </div>
</div><div class="modal" id="mkdocs_keyboard_modal" tabindex="-1" role="dialog" aria-labelledby="keyboardModalLabel" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <h4 class="modal-title" id="keyboardModalLabel">Keyboard Shortcuts</h4>
                <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
            </div>
            <div class="modal-body">
              <table class="table">
                <thead>
                  <tr>
                    <th style="width: 20%;">Keys</th>
                    <th>Action</th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <td class="help shortcut"><kbd>?</kbd></td>
                    <td>Open this help</td>
                  </tr>
                  <tr>
                    <td class="next shortcut"><kbd>n</kbd></td>
                    <td>Next page</td>
                  </tr>
                  <tr>
                    <td class="prev shortcut"><kbd>p</kbd></td>
                    <td>Previous page</td>
                  </tr>
                  <tr>
                    <td class="search shortcut"><kbd>s</kbd></td>
                    <td>Search</td>
                  </tr>
                </tbody>
              </table>
            </div>
            <div class="modal-footer">
            </div>
        </div>
    </div>
</div>

    </body>
</html>

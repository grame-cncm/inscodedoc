<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        
        
        
        <link rel="shortcut icon" href="../../img/favicon.ico">
        <title>Scene Messages - INScore Documentation</title>
        <link href="../../css/bootstrap-custom.min.css" rel="stylesheet">
        <link href="../../css/font-awesome.min.css" rel="stylesheet">
        <link href="../../css/base.css" rel="stylesheet">
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/github.min.css">
        <link href="/css/inscore.css" rel="stylesheet">
        <link href="/BNF/railroad-diagrams.css" rel="stylesheet">
        <!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
        <!--[if lt IE 9]>
            <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
            <script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
        <![endif]-->

        <script src="../../js/jquery-1.10.2.min.js" defer></script>
        <script src="../../js/bootstrap-3.0.3.min.js" defer></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/highlight.min.js"></script>
        <script>hljs.initHighlightingOnLoad();</script> 
    </head>

    <body>

        <div class="navbar navbar-default navbar-fixed-top" role="navigation">
            <div class="container">

                <!-- Collapsed navigation -->
                <div class="navbar-header">
                    <!-- Expander button -->
                    <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
                        <span class="sr-only">Toggle navigation</span>
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                    </button>
                    <a class="navbar-brand" href="../..">INScore Documentation</a>
                </div>

                <!-- Expanded navigation -->
                <div class="navbar-collapse collapse">
                        <!-- Main navigation -->
                        <ul class="nav navbar-nav">
                            <li >
                                <a href="../..">Home</a>
                            </li>
                            <li class="dropdown active">
                                <a href="#" class="dropdown-toggle" data-toggle="dropdown">Reference <b class="caret"></b></a>
                                <ul class="dropdown-menu">
                                    
<li >
    <a href="../1-genformat/">Format of a message</a>
</li>
                                    
<li >
    <a href="../2-common/">Common Messages</a>
</li>
                                    
<li >
    <a href="../3-time/">Time Messages</a>
</li>
                                    
<li >
    <a href="../4-miscmsgs/">Miscellaneous</a>
</li>
                                    
<li >
    <a href="../5-setsect/">The set Message</a>
</li>
                                    
<li >
    <a href="../6-getsect/">The get Message</a>
</li>
                                    
<li >
    <a href="../7-specificMsg/">Specific Messages</a>
</li>
                                    
<li >
    <a href="../8-ITL/">Application Messages</a>
</li>
                                    
<li class="active">
    <a href="./">Scene Messages</a>
</li>
                                    
<li >
    <a href="../10-forwarding/">Messages Forwarding</a>
</li>
                                    
<li >
    <a href="../11-layers/">Layers</a>
</li>
                                    
<li >
    <a href="../12-mapping/">Mapping</a>
</li>
                                    
<li >
    <a href="../13-syncmsg/">Synchronization</a>
</li>
                                    
<li >
    <a href="../14-graphsig/">Graphic signals</a>
</li>
                                    
<li >
    <a href="../15-interaction/">Interaction</a>
</li>
                                    
<li >
    <a href="../16-scripting/">Scripting</a>
</li>
                                    
<li >
    <a href="../17-plugins/">Plugins</a>
</li>
                                    
<li >
    <a href="../18-yacc/">Grammar definitions</a>
</li>
                                    
<li >
    <a href="../19-changes/">Changes list</a>
</li>
                                    
<li >
    <a href="../">Index</a>
</li>
                                </ul>
                            </li>
                            <li >
                                <a href="../../about/">About</a>
                            </li>
                        </ul>

                    <ul class="nav navbar-nav navbar-right">
                        <li>
                            <a href="#" data-toggle="modal" data-target="#mkdocs_search_modal">
                                <i class="fa fa-search"></i> Search
                            </a>
                        </li>
                            <li >
                                <a rel="next" href="../8-ITL/">
                                    <i class="fa fa-arrow-left"></i> Previous
                                </a>
                            </li>
                            <li >
                                <a rel="prev" href="../10-forwarding/">
                                    Next <i class="fa fa-arrow-right"></i>
                                </a>
                            </li>
                    </ul>
                </div>
            </div>
        </div>

        <div class="container">
                <div class="col-md-3"><div class="bs-sidebar hidden-print affix well" role="complementary">
    <ul class="nav bs-sidenav">
        <li class="main active"><a href="#scene-messages">Scene messages</a></li>
            <li><a href="#scene-control">Scene control</a></li>
            <li><a href="#opengl-rendering">OpenGl rendering</a></li>
            <li><a href="#scene-queries">Scene queries</a></li>
    </ul>
</div></div>
                <div class="col-md-9" role="main">

<script src='/BNF/railroad-diagrams.js'></script>

<h1 id="scene-messages">Scene messages</h1>
<p><a name="scene"></a></p>
<p>A scene may be viewed as a window on the score elements. Its address is <span class="OSC">/ITL/<em>sceneIdentifier</span></em> where <span class="OSC"><em>sceneIdentifier</span></em> is the scene name. </p>
<h2 id="scene-control">Scene control</h2>
<p><a name="scenecontrol"></a></p>
<p>The following messages are available at scene level, to control the scene appearance and behaviour:</p>
<p><a name="9-scene-Scene messages"></a>
<a name="9-scene-new"></a>
<a name="9-scene-del"></a>
<a name="9-scene-foreground"></a>
<a name="9-scene-rootPath"></a>
<a name="9-scene-preprocess"></a>
<a name="9-scene-load"></a>
<a name="9-scene-reset"></a>
<a name="9-scene-fullscreen"></a>
<a name="9-scene-frameless"></a>
<a name="9-scene-absolutexy"></a></p>
<div class="rail">
<span class="railtitle">sceneMsg</span>
<br /><script>
ComplexDiagram(
    Choice (0, 'new', 'del', 'reset', 'foreground', Sequence ('rootPath', Optional (NonTerminal('path')) ), Sequence ('preprocess', NonTerminal('file')), Sequence ('load', NonTerminal('filePath')), Sequence ('fullscreen', NonTerminal('int32')), Sequence ('frameless', NonTerminal('int32')), Sequence ('absolutexy', NonTerminal('int32')), Sequence ('windowOpacity', NonTerminal('int32')), NonTerminal('commonMsg'), NonTerminal('forwardingMsg'))
).addTo()

</script>
</div>

<ul>
<li><span class="OSC">new</span>: creates a new scene and opens it in a new window.</li>
<li><span class="OSC">del</span>: deletes a scene and closes the corresponding window.</li>
<li><span class="OSC">reset</span>: clears the scene (i.e. delete all components) and resets the scene to its default state (position, size and color).</li>
<li><span class="OSC">foreground</span>: display scene window in foreground of all other windows in the system windows manager.</li>
<li><span class="OSC">rootPath</span>: <strong>rootPath</strong> of a scene is the default path where the scene reads or writes a file when a relative path is used for this file. When no value has been specified, the application  <strong>rootPath</strong> is used. Calling <span class="OSC">rootPath</span> without argument clears the scene <strong>rootPath</strong>.</li>
<li><span class="OSC">preprocess</span>: evaluates the input file script and print the result to the log window.</li>
<li>
<p><span class="OSC">load</span>: loads an INScore file to the scene. Note that the OSC addresses are translated to the scene OSC address.</p>
</li>
<li>
<p><span class="OSC">fullscreen</span>: requests the scene to switch to full screen or normal screen.  The parameter is interpreted as a boolean value. Default value is <span class="values">0</span>.</p>
</li>
<li><span class="OSC">frameless</span>: requests the scene to switch to frameless or normal window.  The parameter is interpreted as a boolean value. Default value is <span class="values">0</span>.</li>
<li><span class="OSC">absolutexy</span>: requests the scene to absolute or relative coordinates. Absolute coordinates are in pixels relative to the top left corner of the screen. Relative coordinates are in the range [-1, 1] where [0,0] is the center of the screen. The message parameter is interpreted as a boolean value. Default value is <span class="values">0</span>.</li>
<li><span class="OSC">windowOpacity</span>: switch the scene window to opaque or transparent mode. When in transparent mode, the scene alpha channel controls the window opacity (from completely opaque to completely transparent). In opaque mode, the scene alpha channel controls the background brush only. Default value is <span class="values">0</span> (transparent).</li>
<li><span class="OSC">commonMsg</span>: a scene support the common graphic attributes. See section <a href="../2-common#common">common</a>.</li>
<li><span class="OSC">forwardingMsg</span>: a scene support message forwading and filtering. See section <a href="../10-forwarding#forwarding">forwarding</a>.</li>
</ul>
<p><span class="example">Example</span> 
Setting a scene current path:</p>
<pre><code>/ITL/scene rootPath &quot;/path/to/my/folder&quot;;
</code></pre>

<p>Loading an INScore file:</p>
<pre><code>/ITL/scene load &quot;myscript.inscore&quot;;
</code></pre>

<p>will load <span class="OSC">/path/to/my/folder/myscript.inscore</span> into the scene. </p>
<p>Setting a scene to fullscreen:</p>
<pre><code>/ITL/scene fullscreen 1;
</code></pre>

<p>Creating a new score named <span class="OSC">myScore</span>:</p>
<pre><code>/ITL/myScore new;
</code></pre>

<h2 id="opengl-rendering">OpenGl rendering</h2>
<p><a name="opengl"></a>
A scene supports optional OpenGl rendering.</p>
<p><a name="9-scene-opengl"></a></p>
<div class="rail">
<span class="railtitle">openglMsg</span>
<br /><script>
ComplexDiagram(
    Sequence ('opengl', NonTerminal('int32'))
).addTo()

</script>
</div>

<ul>
<li><span class="OSC">opengl</span>: requests the scene to switch to OpenGl or normal rendering.  The parameter is interpreted as a boolean value. Default value is <span class="values">0</span>. </li>
</ul>
<p><span class="note">Note:</span> 
OpenGl rendering improves significantly the performance of graphic operations but at the cost of dirty rendering for text and scores.</p>
<h2 id="scene-queries">Scene queries</h2>
<p><a name="scenequery"></a></p>
<p>A scene may respond to queries regarding its elements:</p>
<p><a name="9-scene-Scene query"></a>
<a name="9-scene-count"></a>
<a name="9-scene-rcount"></a></p>
<div class="rail">
<span class="railtitle">sceneQuery</span>
<br /><script>
ComplexDiagram(
    Sequence ('get', Choice (0, 'count', 'rcount'))
).addTo()

</script>
</div>

<ul>
<li><span class="OSC">count</span>: count the number of elements in the scene.</li>
<li><span class="OSC">rcount</span>: recursively count the number of elements in the scene.</li>
</ul>
<p><span class="example">Example</span> 
Counting the elements in a scene:</p>
<pre><code>/ITL/scene get count;
  will give a message like the following as output: 
/ITL/scene count 200;
</code></pre></div>
        </div>

        <footer class="col-md-12">
            <hr>
                <p><a href="https://inscore.grame.fr">INscore projects</a> Copyright &copy; 2019-2020 <a href="http://www.grame.fr">Grame-CNCM</a></p>
            <p>Documentation built with <a href="https://www.mkdocs.org/">MkDocs</a>.</p>
        </footer>
        <script>
            var base_url = "../..",
                shortcuts = {"help": 191, "next": 78, "previous": 80, "search": 83};
        </script>
        <script src="../../js/base.js" defer></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML" defer></script>
        <script src="../../search/main.js" defer></script>

        <div class="modal" id="mkdocs_search_modal" tabindex="-1" role="dialog" aria-labelledby="Search Modal" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
                <h4 class="modal-title" id="exampleModalLabel">Search</h4>
            </div>
            <div class="modal-body">
                <p>
                    From here you can search these documents. Enter
                    your search terms below.
                </p>
                <form role="form">
                    <div class="form-group">
                        <input type="text" class="form-control" placeholder="Search..." id="mkdocs-search-query" title="Type search term here">
                    </div>
                </form>
                <div id="mkdocs-search-results"></div>
            </div>
            <div class="modal-footer">
            </div>
        </div>
    </div>
</div><div class="modal" id="mkdocs_keyboard_modal" tabindex="-1" role="dialog" aria-labelledby="Keyboard Shortcuts Modal" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
                <h4 class="modal-title" id="exampleModalLabel">Keyboard Shortcuts</h4>
            </div>
            <div class="modal-body">
              <table class="table">
                <thead>
                  <tr>
                    <th style="width: 20%;">Keys</th>
                    <th>Action</th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <td class="help shortcut"><kbd>?</kbd></td>
                    <td>Open this help</td>
                  </tr>
                  <tr>
                    <td class="next shortcut"><kbd>n</kbd></td>
                    <td>Next page</td>
                  </tr>
                  <tr>
                    <td class="prev shortcut"><kbd>p</kbd></td>
                    <td>Previous page</td>
                  </tr>
                  <tr>
                    <td class="search shortcut"><kbd>s</kbd></td>
                    <td>Search</td>
                  </tr>
                </tbody>
              </table>
            </div>
            <div class="modal-footer">
            </div>
        </div>
    </div>
</div>

    </body>
</html>
